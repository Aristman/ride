# üìç Roadmap: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏ (Multi-Agent Interaction)

## üìä –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–°—Ç–∞—Ç—É—Å**: Draft (–Ω–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏)
- **–í–µ—Ä—Å–∏—è**: 0.1
- **–î–∞—Ç–∞**: 2025-10-21
- **–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: `docs/specs/multi-agent-interaction-tz.md`, `docs/roadmaps/11-enhanced-orchestrator.md`, `docs/roadmaps/10-koog-integration.md`

---

## üéØ –¶–µ–ª–∏
- **–ï–¥–∏–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª** –º–µ–∂–∞–≥–µ–Ω—Ç–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (`AgentMessage` + —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ payload—ã)
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —à–∏–Ω–∞** `MessageBus` (send/broadcast/subscribe/requestResponse)
- **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è**: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –∞–≥–µ–Ω—Ç–æ–≤, –ø–∞—Ä–∞–ª–ª–µ–ª—å/—Ü–µ–ø–æ—á–∫–∏, retry/fallback
- **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è**: `AgentCoordinator` ‚Äî –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**: `UnifiedContext` + `SharedState`
- **–†–µ–µ—Å—Ç—Ä –∞–≥–µ–Ω—Ç–æ–≤**: —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `ToolAgentRegistry` ‚Üí `EnhancedAgentRegistry` —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏/–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é
- **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å**: –º–µ—Ç—Ä–∏–∫–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å, –æ—Ç—á–µ—Ç—ã

---

## üß≠ –°—Ç—Ä–∞—Ç–µ–≥–∏—è
- **–ì–∏–±—Ä–∏–¥**: —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ `Agent` API –∏ `EnhancedAgentOrchestrator`, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞–∫ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
- **In-memory —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç** –≤ MVP (–∫–∞–Ω–∞–ª—ã). –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∑–∂–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ Ktor WS/HTTP –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è API.
- **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞**: –∫–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã–π –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç + —Ç–µ—Å—Ç—ã.

---

## üó∫Ô∏è –≠—Ç–∞–ø—ã

### –≠—Ç–∞–ø 1 ‚Äî –§—É–Ω–¥–∞–º–µ–Ω—Ç (2‚Äì3 –Ω–µ–¥–µ–ª–∏)
- **–ó–∞–¥–∞—á–∏**
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏: `AgentMessage`, `RequestPayload`, `ResponsePayload`
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `MessageBus` (in-memory) + unit-—Ç–µ—Å—Ç—ã
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `EnhancedAgentOrchestrator`: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —à–∏–Ω—ã –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤
- **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**
  - –ö–æ–¥: `model/agent-message`, `infrastructure/message-bus`
  - –¢–µ—Å—Ç—ã: JUnit4 –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π/—à–∏–Ω—ã
  - –î–æ–∫: –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ `docs/specs/multi-agent-interaction-tz.md`
- **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**
  - –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç, `requestResponse` —Å —Ç–∞–π–º–∞—É—Ç–æ–º –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç–µ—Å—Ç—ã

### –≠—Ç–∞–ø 2 ‚Äî –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è (3‚Äì4 –Ω–µ–¥–µ–ª–∏)
- **–ó–∞–¥–∞—á–∏**
  - `AgentCoordinator`: –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∑–∞–¥–∞—á, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤
  - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `EnhancedAgentOrchestrator`: `selectAgents`, `executeParallel`, `executeChain`
  - `UnifiedContext` + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞–Ω–∞–º–∏/—à–∞–≥–∞–º–∏
- **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**
  - –ö–æ–¥: `coordination/agent-coordinator`, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `orchestrator`
  - –¢–µ—Å—Ç—ã: –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –ø–∞—Ä–∞–ª–ª–µ–ª—å/—Ü–µ–ø–æ—á–∫–∏
- **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**
  - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —à–∞–≥–∏ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è, —Ü–µ–ø–æ—á–∫–∏ —Å–æ–±–ª—é–¥–∞—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –≠—Ç–∞–ø 3 ‚Äî –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (2‚Äì3 –Ω–µ–¥–µ–ª–∏)
- **–ó–∞–¥–∞—á–∏**
  - Retry/loop/fallback –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–µ
  - `EnhancedAgentRegistry` (–º–µ—Ç—Ä–∏–∫–∏/–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å/–ø–æ–∏—Å–∫ best agent) ‚Äî –∞–¥–∞–ø—Ç–µ—Ä –Ω–∞–¥ `ToolAgentRegistry`
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —à–∞–≥–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**
  - –ö–æ–¥: `orchestrator/retry-loop`, `registry/enhanced`
  - –¢–µ—Å—Ç—ã: retry-–ø–æ–ª–∏—Ç–∏–∫–∏, –≤—ã–±–æ—Ä –ª—É—á—à–µ–≥–æ –∞–≥–µ–Ω—Ç–∞ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º
- **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**
  - –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —à–∞–≥–∏ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É—é—Ç—Å—è retry, –º–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤

### –≠—Ç–∞–ø 4 ‚Äî –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã (1‚Äì2 –Ω–µ–¥–µ–ª–∏)
- **–ó–∞–¥–∞—á–∏**
  - –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å, –∑–∞–¥–µ—Ä–∂–∫–∏)
  - –û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å/–º–µ—Ç—Ä–∏–∫–∏ –≤ UI (`ChatService` –ø—Ä–æ–≥—Ä–µ—Å—Å/—Å–≤–æ–¥–∫–∏)
  - –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**
  - –¢–µ—Å—Ç—ã: –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
  - –î–æ–∫: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `docs/` –∏ –ø—Ä–∏–º–µ—Ä–æ–≤
- **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**
  - SLA –ø–æ –≤—Ä–µ–º–µ–Ω–∏/—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–±–ª—é–¥–µ–Ω—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: `AgentMessage` (Request/Response/Event), `ResponseMetadata`, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON
- **–®–∏–Ω–∞**: `MessageBus` (–∫–∞–Ω–∞–ª—ã, —Ç–∞–π–º–∞—É—Ç—ã, DeliveryTracker)
- **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä**: `EnhancedAgentOrchestrator` —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞/–ø–∞—Ä–∞–ª–ª–µ–ª–∏/—Ä–µ—Ç—Ä–∞–µ–≤
- **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä**: `AgentCoordinator` —Å –≥—Ä–∞—Ñ–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: `UnifiedContext`/`SharedState`
- **–†–µ–µ—Å—Ç—Ä**: `EnhancedAgentRegistry` –Ω–∞–¥ `ToolAgentRegistry`

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ (–º–µ—Ç—Ä–∏–∫–∏)
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –Ω–µ —Ö—É–∂–µ —Ç–µ–∫—É—â–µ–≥–æ baseline
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ —Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è –∏ –¥–∞—é—Ç –≤—ã–∏–≥—Ä—ã—à –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å –∏ –º–µ—Ç—Ä–∏–∫–∏ –≤–∏–¥–Ω—ã –≤ UI (—à–∞–≥–∏, —Å—Ç–∞—Ç—É—Å—ã, –∏—Ç–æ–≥)
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –∫–ª—é—á–µ–≤—ã—Ö –º–æ–¥—É–ª–µ–π ‚â•80%

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞
- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å/—Å–æ—Å—Ç–æ—è–Ω–∏–µ** ‚Üí —Å—Ç—Ä–æ–≥–∏–µ —Ç–µ—Å—Ç—ã, –∞–∫—Ç–æ—Ä–Ω–æ-–∫–∞–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å
- **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏** ‚Üí —á—ë—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Ñ–∞–∑—ã —Å –∏–∑–æ–ª—è—Ü–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å IntelliJ** ‚Üí in-memory —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç; —Å–µ—Ç–µ–≤—ã–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã –æ—Ç–ª–æ–∂–∏—Ç—å
- **–†–∞–∑–º–µ—Ä/–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Üí –∏–∑–±–µ–≥–∞–µ–º —Ç—è–∂—ë–ª—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤ MVP

–ü–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞: –æ—Ç–∫–ª—é—á–∞–µ–º —à–∏–Ω—É –∏ –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ feature flag, –≤–æ–∑–≤—Ä–∞—â–∞—è—Å—å –∫ —Ç–µ–∫—É—â–µ–º—É –ø—É—Ç–∏ `EnhancedAgentOrchestrator` –±–µ–∑ –ø–∞—Ä–∞–ª–ª–µ–ª–∏/—Ä–µ—Ç—Ä–∞–µ–≤.

---

## üìå –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- –£—Ç–≤–µ—Ä–¥–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –¢–ó
- –°—Ç–∞—Ä—Ç –≠—Ç–∞–ø–∞ 1: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –∏ —à–∏–Ω—ã
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–∞—á–∫—É JUnit4 —Ç–µ—Å—Ç–æ–≤ –Ω–∞ `MessageBus` –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π
