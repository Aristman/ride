# Roadmap: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –∞–≥–µ–Ω—Ç–æ–≤

## –û–ø–∏—Å–∞–Ω–∏–µ
–î–æ—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≥–æ—Ç–æ–≤—ã—Ö, —Å–≤–µ—Ä—Å—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —á–∞—Ç–µ. –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –±—É–¥–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –Ω–∞ –≤—ã—Ö–æ–¥–µ –≥–æ—Ç–æ–≤—ã–π HTML-–±–ª–æ–∫ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º –¥–ª—è —Ç–∏–ø–∞ –∞–≥–µ–Ω—Ç–∞.

## –¶–µ–ª–∏
- **TerminalAgent**: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ (–∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ)
- **ExecutorAgent**: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Å –±–ª–æ–∫–∞–º–∏ –∫–æ–¥–∞ –∏ —Ç–µ–∫—Å—Ç–æ–º
- **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è**: –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π `AgentResponse`

## –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ß—Ç–æ –µ—Å—Ç—å —Å–µ–π—á–∞—Å
1. **AgentResponse** (`model/agent/AgentResponse.kt`):
   - –°–æ–¥–µ—Ä–∂–∏—Ç `content: String` - —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
   - –ï—Å—Ç—å `metadata: Map<String, Any>` –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ï—Å—Ç—å `parsedContent: ParsedResponse?` –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

2. **TerminalAgent** (`agent/impl/TerminalAgent.kt`):
   - –ú–µ—Ç–æ–¥ `formatCommandResult()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Markdown-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–º–æ–¥–∑–∏ –∏ markdown –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –û—Ç–¥–∞–µ—Ç –ø—Ä–æ—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –≤ `AgentResponse.content`

3. **ExecutorAgent** (`agent/impl/ExecutorAgent.kt`):
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—ã—Ä–æ–π –æ—Ç–≤–µ—Ç –æ—Ç LLM
   - –ü–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ markdown –≤ —Ç–µ–∫—Å—Ç–µ –æ—Ç–≤–µ—Ç–∞
   - –ù–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

4. **MessageDisplayManager** (`ui/manager/MessageDisplayManager.kt`):
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ChatContentRenderer` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ markdown –≤ HTML
   - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ù–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

### –ü—Ä–æ–±–ª–µ–º—ã
- –ê–≥–µ–Ω—Ç—ã –æ—Ç–¥–∞—é—Ç markdown-—Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Ç–æ–º —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞, –∞ –Ω–µ –æ—Ç –∞–≥–µ–Ω—Ç–∞
- –ù–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∏–¥–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## –ó–∞–¥–∞—á–∏

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å `enum class AgentOutputType`:
  - `MARKDOWN` - –æ–±—ã—á–Ω—ã–π markdown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - `TERMINAL` - –≤—ã–≤–æ–¥ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
  - `CODE_BLOCKS` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –∫–æ–¥–∞
  - `STRUCTURED` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  - `HTML` - –≥–æ—Ç–æ–≤—ã–π HTML

- [ ] –°–æ–∑–¥–∞—Ç—å `data class FormattedOutputBlock`:
  ```kotlin
  data class FormattedOutputBlock(
      val type: AgentOutputType,
      val content: String,           // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –±–ª–æ–∫–∞
      val htmlTemplate: String? = null,  // HTML-—à–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
      val cssClasses: List<String> = emptyList(),  // CSS-–∫–ª–∞—Å—Å—ã –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
      val metadata: Map<String, Any> = emptyMap(),  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
      val order: Int = 0             // –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–ª–æ–∫–∞
  )
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å `data class FormattedOutput`:
  ```kotlin
  data class FormattedOutput(
      val blocks: List<FormattedOutputBlock>,  // –°–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤
      val rawContent: String? = null  // –°—ã—Ä–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è fallback
  ) {
      companion object {
          fun single(block: FormattedOutputBlock): FormattedOutput
          fun multiple(blocks: List<FormattedOutputBlock>): FormattedOutput
      }
  }
  ```

- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å `AgentResponse`:
  ```kotlin
  data class AgentResponse(
      val content: String,  // –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
      val formattedOutput: FormattedOutput? = null,  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
  )
  ```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ HTML-—à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤

- [ ] –°–æ–∑–¥–∞—Ç—å `TerminalOutputTemplate` –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:
  - –°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ–¥–∞ –≤—ã—Ö–æ–¥–∞, –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ stdout/stderr —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  - –ò–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ (‚úÖ/‚ùå)
  - –ú–æ–Ω–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è –≤—ã–≤–æ–¥–∞

- [ ] –°–æ–∑–¥–∞—Ç—å `CodeBlockTemplate` –¥–ª—è ExecutorAgent:
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –∫–æ–¥–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
  - –ö–Ω–æ–ø–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –∫–æ–¥–∞
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞

- [ ] –°–æ–∑–¥–∞—Ç—å CSS-—Å—Ç–∏–ª–∏ –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤:
  - `.terminal-output` - —Å—Ç–∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
  - `.terminal-header` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
  - `.terminal-body` - —Ç–µ–ª–æ –≤—ã–≤–æ–¥–∞
  - `.terminal-stdout` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
  - `.terminal-stderr` - –≤—ã–≤–æ–¥ –æ—à–∏–±–æ–∫
  - `.code-block-container` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–ª–æ–∫–∞ –∫–æ–¥–∞
  - `.code-block-header` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –±–ª–æ–∫–∞ –∫–æ–¥–∞

### 3. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤

#### –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã (–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥)
- [ ] **ChatAgent** - –æ—Å–Ω–æ–≤–Ω–æ–π –∞–≥–µ–Ω—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
  - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã —Å –±–ª–æ–∫–∞–º–∏ –∫–æ–¥–∞, —Ç–µ–∫—Å—Ç–æ–º, —Å–ø–∏—Å–∫–∞–º–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
  - –¢–∏–ø –≤—ã–≤–æ–¥–∞: `MARKDOWN`, `CODE_BLOCKS`, `STRUCTURED`

- [ ] **ChatAgentWithTools** - –∞–≥–µ–Ω—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π MCP Tools
  - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
  - –¢–∏–ø –≤—ã–≤–æ–¥–∞: `MARKDOWN`, `CODE_BLOCKS`, `TOOL_RESULT`

- [ ] **ExecutorAgent** - –∞–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –∏–∑ –ø–ª–∞–Ω–∞
  - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã —Å –±–ª–æ–∫–∞–º–∏ –∫–æ–¥–∞ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–¥–∞—á–∏
  - –¢–∏–ø –≤—ã–≤–æ–¥–∞: `MARKDOWN`, `CODE_BLOCKS`

- [ ] **TerminalAgent** - –∞–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
  - –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≤—ã–≤–æ–¥–æ–º –∫–æ–º–∞–Ω–¥—ã
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ stdout/stderr
  - –¢–∏–ø –≤—ã–≤–æ–¥–∞: `TERMINAL`

#### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã (–ù–ï –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥)
- **PlannerAgent** - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –∑–∞–¥–∞—á
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON/XML
  - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º—ã

- **SummarizerAgent** - —Å–∂–∞—Ç–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Ä–µ–∑—é–º–µ
  - –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞–ø—Ä—è–º—É—é
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### 4. –î–æ—Ä–∞–±–æ—Ç–∫–∞ TerminalAgent

- [ ] –°–æ–∑–¥–∞—Ç—å `TerminalOutputFormatter`:
  ```kotlin
  class TerminalOutputFormatter {
      fun formatAsHtml(result: TerminalCommandResult): FormattedOutput
      fun createTerminalWindow(
          command: String,
          exitCode: Int,
          executionTime: Long,
          stdout: String,
          stderr: String,
          success: Boolean
      ): String
  }
  ```

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `TerminalAgent.formatCommandResult()`:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `TerminalOutputFormatter`
  - –í–æ–∑–≤—Ä–∞—â–∞—Ç—å `FormattedOutput` —Å —Ç–∏–ø–æ–º `TERMINAL`
  - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π HTML —Å —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `TerminalAgent.ask()`:
  - –î–æ–±–∞–≤–∏—Ç—å `formattedOutput` –≤ `AgentResponse`
  - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ `content`

### 5. –î–æ—Ä–∞–±–æ—Ç–∫–∞ ExecutorAgent

- [ ] –°–æ–∑–¥–∞—Ç—å `CodeBlockFormatter`:
  ```kotlin
  class CodeBlockFormatter {
      fun formatAsHtml(content: String): FormattedOutput
      fun extractCodeBlocks(markdown: String): List<CodeBlock>
      fun wrapInTemplate(blocks: List<CodeBlock>, text: String): String
  }
  ```

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `ExecutorAgent.ask()`:
  - –ü–∞—Ä—Å–∏—Ç—å –æ—Ç–≤–µ—Ç LLM –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `CodeBlockFormatter` –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –î–æ–±–∞–≤–∏—Ç—å `formattedOutput` –≤ `AgentResponse`

### 6. –î–æ—Ä–∞–±–æ—Ç–∫–∞ ChatAgent

- [ ] –°–æ–∑–¥–∞—Ç—å `ChatOutputFormatter`:
  ```kotlin
  class ChatOutputFormatter {
      fun formatAsHtml(content: String): FormattedOutput
      fun extractBlocks(markdown: String): List<FormattedOutputBlock>
      fun createTextBlock(text: String): FormattedOutputBlock
      fun createCodeBlock(code: String, language: String): FormattedOutputBlock
      fun createListBlock(items: List<String>): FormattedOutputBlock
  }
  ```

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `ChatAgent.ask()`:
  - –ü–∞—Ä—Å–∏—Ç—å –æ—Ç–≤–µ—Ç LLM –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - –°–æ–∑–¥–∞–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
  - –î–æ–±–∞–≤–∏—Ç—å `formattedOutput` –≤ `AgentResponse`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞ –≤ —Ç–µ–∫—Å—Ç

- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤:
  - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –∫–æ–¥–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏
  - –°–º–µ—à–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (—Ç–µ–∫—Å—Ç + –∫–æ–¥ + —Å–ø–∏—Å–∫–∏)
  - –¢–∞–±–ª–∏—Ü—ã –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã –≤ markdown

### 7. –î–æ—Ä–∞–±–æ—Ç–∫–∞ ChatAgentWithTools

- [ ] –°–æ–∑–¥–∞—Ç—å `ToolResultFormatter`:
  ```kotlin
  class ToolResultFormatter {
      fun formatToolCall(toolName: String, params: Map<String, Any>): FormattedOutputBlock
      fun formatToolResult(result: Any, success: Boolean): FormattedOutputBlock
      fun formatFileOperation(operation: String, path: String, result: String): FormattedOutputBlock
  }
  ```

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ MCP Tools:
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–∫–∏
  - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ–¥–Ω–æ–º –æ—Ç–≤–µ—Ç–µ

- [ ] –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
  - –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞: –ø–æ–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
  - –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞: diff-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
  - –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ChatService

**–§–∞–π–ª:** `src/main/kotlin/ru/marslab/ide/ride/service/ChatService.kt`

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `sendMessage()`:
  ```kotlin
  // –î–æ–±–∞–≤–∏—Ç—å 1 —Å—Ç—Ä–æ–∫—É –≤ metadata:
  val assistantMsg = Message(
      content = agentResponse.content,
      role = MessageRole.ASSISTANT,
      metadata = agentResponse.metadata + mapOf(
          "isFinal" to agentResponse.isFinal,
          "uncertainty" to (agentResponse.uncertainty ?: 0.0),
          "responseTimeMs" to responseTime,
          "tokensUsed" to tokensUsed,
          "tokenUsage" to tokenUsage,
          "formattedOutput" to agentResponse.formattedOutput  // ‚≠ê –î–û–ë–ê–í–ò–¢–¨
      )
  )
  ```

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `sendMessageWithTools()`:
  - –î–æ–±–∞–≤–∏—Ç—å `"formattedOutput" to agentResponse.formattedOutput` –≤ metadata
  - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `sendMessage()`

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `executeTerminalCommand()`:
  - –î–æ–±–∞–≤–∏—Ç—å `"formattedOutput" to agentResponse.formattedOutput` –≤ metadata
  - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `sendMessage()`

**–û–±—ä—ë–º –∏–∑–º–µ–Ω–µ–Ω–∏–π:** 3 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ (–ø–æ 1 –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ)

**–†–∏—Å–∫–∏:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ. –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ map, –Ω–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.

---

### 9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI-—Å–ª–æ—è

#### 9.1. –°–æ–∑–¥–∞–Ω–∏–µ AgentOutputRenderer

**–§–∞–π–ª:** `src/main/kotlin/ru/marslab/ide/ride/ui/renderer/AgentOutputRenderer.kt` (–Ω–æ–≤—ã–π)

- [ ] –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `AgentOutputRenderer`:
  ```kotlin
  class AgentOutputRenderer(
      private val messageDisplayManager: MessageDisplayManager
  ) {
      fun render(formattedOutput: FormattedOutput): String
      private fun renderTerminalBlock(block: FormattedOutputBlock): String
      private fun renderCodeBlock(block: FormattedOutputBlock): String
      private fun renderToolResultBlock(block: FormattedOutputBlock): String
      private fun renderMarkdownBlock(block: FormattedOutputBlock): String
      private fun renderStructuredBlock(block: FormattedOutputBlock): String
  }
  ```

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `render()`:
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫–∏ –ø–æ `order`
  - –†–µ–Ω–¥–µ—Ä–∏—Ç—å –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
  - –î–æ–±–∞–≤–ª—è—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏
  - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Å fallback –Ω–∞ `rawContent`

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `renderTerminalBlock()`:
  - –°–æ–∑–¥–∞–≤–∞—Ç—å HTML —Å –∫–ª–∞—Å—Å–æ–º `.terminal-output`
  - –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (command, exitCode, executionTime)
  - –†–∞–∑–¥–µ–ª—è—Ç—å stdout/stderr —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏
  - –î–æ–±–∞–≤–ª—è—Ç—å –∏–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ (‚úÖ/‚ùå)

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `renderCodeBlock()`:
  - –°–æ–∑–¥–∞–≤–∞—Ç—å HTML —Å –∫–ª–∞—Å—Å–æ–º `.code-block-container`
  - –î–æ–±–∞–≤–ª—è—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å —è–∑—ã–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
  - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
  - –î–æ–±–∞–≤–ª—è—Ç—å –∫–Ω–æ–ø–∫—É "Copy"

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `renderToolResultBlock()`:
  - –°–æ–∑–¥–∞–≤–∞—Ç—å HTML —Å –∫–ª–∞—Å—Å–æ–º `.tool-result-block`
  - –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏ —Å—Ç–∞—Ç—É—Å
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `renderMarkdownBlock()`:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `ChatContentRenderer`
  - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å markdown-—Ä–∞–∑–º–µ—Ç–∫—É
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `renderStructuredBlock()`:
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON/XML –¥–∞–Ω–Ω—ã—Ö
  - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
  - –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–µ —Å–µ–∫—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–û–±—ä—ë–º —Ä–∞–±–æ—Ç—ã:** ~300 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

**–†–∏—Å–∫–∏:** –ù–∏–∑–∫–∏–µ. –ù–æ–≤—ã–π –∫–ª–∞—Å—Å, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥.

#### 9.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ MessageDisplayManager

**–§–∞–π–ª:** `src/main/kotlin/ru/marslab/ide/ride/ui/manager/MessageDisplayManager.kt`

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `agentOutputRenderer` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:
  ```kotlin
  class MessageDisplayManager(
      private val htmlDocumentManager: HtmlDocumentManager,
      private val contentRenderer: ChatContentRenderer,
      private val agentOutputRenderer: AgentOutputRenderer  // ‚≠ê –î–û–ë–ê–í–ò–¢–¨
  ) {
      // ...
  }
  ```

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `displayAssistantMessage()`:
  ```kotlin
  private fun displayAssistantMessage(message: Message) {
      val prefix = createAssistantPrefix(message)
      
      // ‚≠ê –î–û–ë–ê–í–ò–¢–¨ –ü–†–û–í–ï–†–ö–£ formattedOutput
      val formattedOutput = message.metadata["formattedOutput"] as? FormattedOutput
      val bodyHtml = if (formattedOutput != null) {
          agentOutputRenderer.render(formattedOutput)
      } else {
          contentRenderer.renderContentToHtml(message.content, isJcefMode())
      }
      
      val statusHtml = createAssistantStatusHtml(message)
      val isAfterSystem = lastRole == MessageRole.SYSTEM

      val messageHtml = contentRenderer.createMessageBlock(
          role = ChatPanelConfig.RoleClasses.ASSISTANT,
          prefix = prefix,
          content = bodyHtml,
          statusHtml = statusHtml,
          isUser = false,
          isAfterSystem = isAfterSystem
      )

      htmlDocumentManager.appendHtml(messageHtml)
  }
  ```

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≤ `ChatPanel`:
  - –°–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä `AgentOutputRenderer`
  - –ü–µ—Ä–µ–¥–∞—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `MessageDisplayManager`

**–û–±—ä—ë–º –∏–∑–º–µ–Ω–µ–Ω–∏–π:** 
- 1 –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
- 6 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –≤ –º–µ—Ç–æ–¥–µ `displayAssistantMessage()`
- 2 —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `ChatPanel`

**–†–∏—Å–∫–∏:** –ù–∏–∑–∫–∏–µ. Fallback –Ω–∞ —Å—Ç–∞—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.

#### 9.3. ChatContentRenderer ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–§–∞–π–ª:** `src/main/kotlin/ru/marslab/ide/ride/ui/renderer/ChatContentRenderer.kt`

- [x] –û—Å—Ç–∞–≤–∏—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  - –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ markdown-–±–ª–æ–∫–æ–≤

**–û–±—ä—ë–º –∏–∑–º–µ–Ω–µ–Ω–∏–π:** 0 —Å—Ç—Ä–æ–∫

**–†–∏—Å–∫–∏:** –ù–µ—Ç.

### 10. –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏ —Ç–µ–º—ã

- [ ] –î–æ–±–∞–≤–∏—Ç—å CSS –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞:
  - –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
  - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ IntelliJ IDEA —Ç–µ–º—ã

- [ ] –î–æ–±–∞–≤–∏—Ç—å CSS –¥–ª—è –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞:
  - –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
  - Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã
  - –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å)

- [ ] –û–±–µ—Å–ø–µ—á–∏—Ç—å responsive-–¥–∏–∑–∞–π–Ω:
  - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø–∞–Ω–µ–ª–∏
  - –°–∫—Ä–æ–ª–ª–∏–Ω–≥ –¥–ª—è –¥–ª–∏–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞

- [ ] –î–æ–±–∞–≤–∏—Ç—å CSS –¥–ª—è –±–ª–æ–∫–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
  - `.tool-call-block` - –±–ª–æ–∫ –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
  - `.tool-result-block` - –±–ª–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  - `.file-operation-block` - –±–ª–æ–∫ —Ñ–∞–π–ª–æ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
  - `.diff-block` - –±–ª–æ–∫ —Å diff-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º

- [ ] –î–æ–±–∞–≤–∏—Ç—å CSS –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤:
  - `.multi-block-container` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–ª–æ–∫–æ–≤
  - `.block-separator` - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏
  - –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏

### 11. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã:
  - `TerminalOutputFormatterTest`
  - `CodeBlockFormatterTest`
  - `AgentOutputRendererTest`

- [ ] –ù–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
  - –¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞: TerminalAgent ‚Üí —Ñ–æ—Ä–º–∞—Ç ‚Üí —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
  - –¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞: ExecutorAgent ‚Üí —Ñ–æ—Ä–º–∞—Ç ‚Üí —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
  - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –≤—ã–≤–æ–¥–∞
  - API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è `FormattedOutput`

- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã:
  - –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
  - –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
  - –ü—Ä–∏–º–µ—Ä—ã –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤

- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞:
  - `ChatAgentFormattingTest` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ChatAgent
  - `ChatAgentWithToolsFormattingTest` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å tools
  - `ExecutorAgentFormattingTest` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ExecutorAgent
  - `TerminalAgentFormattingTest` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è TerminalAgent

- [ ] –¢–µ—Å—Ç—ã –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤:
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤
  - Fallback –Ω–∞ —Å—ã—Ä–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### 12. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- [ ] –û–±–µ—Å–ø–µ—á–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞:
  - `formattedOutput` –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω –≤ `AgentResponse`
  - Fallback –Ω–∞ `content` –µ—Å–ª–∏ `formattedOutput == null`
  - –°—Ç–∞—Ä—ã–µ –∞–≥–µ–Ω—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤:
  - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (–∑–∞–¥–∞—á–∞ 1)
2. –°–æ–∑–¥–∞–Ω–∏–µ HTML-—à–∞–±–ª–æ–Ω–æ–≤ (–∑–∞–¥–∞—á–∞ 2)
3. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤ (–∑–∞–¥–∞—á–∞ 3)
4. –î–æ—Ä–∞–±–æ—Ç–∫–∞ TerminalAgent (–∑–∞–¥–∞—á–∞ 4)
5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ChatService (–∑–∞–¥–∞—á–∞ 8) ‚≠ê
6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI-—Å–ª–æ—è (–∑–∞–¥–∞—á–∞ 9) ‚≠ê

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
7. –î–æ—Ä–∞–±–æ—Ç–∫–∞ ExecutorAgent (–∑–∞–¥–∞—á–∞ 5)
8. –î–æ—Ä–∞–±–æ—Ç–∫–∞ ChatAgent (–∑–∞–¥–∞—á–∞ 6)
9. –î–æ—Ä–∞–±–æ—Ç–∫–∞ ChatAgentWithTools (–∑–∞–¥–∞—á–∞ 7)
10. –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏ —Ç–µ–º—ã (–∑–∞–¥–∞—á–∞ 10)

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
11. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–∑–∞–¥–∞—á–∞ 11)
12. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–∑–∞–¥–∞—á–∞ 12)

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### TerminalAgent
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üñ•Ô∏è Terminal Output                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Command: git status                         ‚îÇ
‚îÇ Exit Code: 0                                ‚îÇ
‚îÇ Execution Time: 145ms                       ‚îÇ
‚îÇ Status: ‚úÖ Success                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ On branch main                              ‚îÇ
‚îÇ Your branch is up to date with 'origin/main'‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Changes not staged for commit:              ‚îÇ
‚îÇ   modified:   src/main/kotlin/...           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ExecutorAgent
```
üìù –í–æ—Ç —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏:

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ kotlin                              [Copy]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ fun calculateSum(a: Int, b: Int): Int {    ‚îÇ
‚îÇ     return a + b                            ‚îÇ
‚îÇ }                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö —Å—É–º–º—É.
```

### ChatAgent (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏)
```
üìù –í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ –≤ Kotlin:

1. –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ kotlin                              [Copy]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ val content = File("data.txt").readText()  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

2. –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ kotlin                              [Copy]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ File("output.txt").writeText("Hello!")     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

3. –ü–æ—Å—Ç—Ä–æ—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ kotlin                              [Copy]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ File("data.txt").forEachLine { line ->     ‚îÇ
‚îÇ     println(line)                           ‚îÇ
‚îÇ }                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ChatAgentWithTools (—Ä–µ–∑—É–ª—å—Ç–∞—Ç MCP –æ–ø–µ—Ä–∞—Ü–∏–∏)
```
üîß –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —Å —Ñ–∞–π–ª–æ–º:

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìù –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ü—É—Ç—å: src/main/kotlin/Example.kt           ‚îÇ
‚îÇ –°—Ç–∞—Ç—É—Å: ‚úÖ –£—Å–ø–µ—à–Ω–æ                         ‚îÇ
‚îÇ –†–∞–∑–º–µ—Ä: 245 –±–∞–π—Ç                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ kotlin                              [View]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ package com.example                         ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ fun main() {                                ‚îÇ
‚îÇ     println("Hello, World!")                ‚îÇ
‚îÇ }                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- `AgentResponse` - –º–æ–¥–µ–ª—å –æ—Ç–≤–µ—Ç–∞ –∞–≥–µ–Ω—Ç–∞
- `FormattedOutput` - –º–æ–¥–µ–ª—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
- `FormattedOutputBlock` - –º–æ–¥–µ–ª—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞ –≤—ã–≤–æ–¥–∞
- `AgentOutputType` - —Ç–∏–ø—ã –≤—ã–≤–æ–¥–∞ –∞–≥–µ–Ω—Ç–æ–≤

### –ê–≥–µ–Ω—Ç—ã (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ)
- `ChatAgent` - –æ—Å–Ω–æ–≤–Ω–æ–π –∞–≥–µ–Ω—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è
- `ChatAgentWithTools` - –∞–≥–µ–Ω—Ç —Å MCP Tools
- `ExecutorAgent` - –∞–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
- `TerminalAgent` - –∞–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥

### –ê–≥–µ–Ω—Ç—ã (–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ)
- `PlannerAgent` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ (–±–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- `SummarizerAgent` - —Å–∂–∞—Ç–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ (–±–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `MessageDisplayManager` - –º–µ–Ω–µ–¥–∂–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- `ChatContentRenderer` - —Ä–µ–Ω–¥–µ—Ä–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–∞—Ç–∞
- `AgentOutputRenderer` - —Ä–µ–Ω–¥–µ—Ä–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ –∞–≥–µ–Ω—Ç–æ–≤

### –§–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã
- `TerminalOutputFormatter` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- `CodeBlockFormatter` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
- `ChatOutputFormatter` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞ —á–∞—Ç–∞
- `ToolResultFormatter` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ª–µ–≥–∫–æ–π –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Ç–µ–º
- –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –≤—ã–≤–æ–¥–∞ –≤ –±—É–¥—É—â–µ–º
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–ª—è –±–æ–ª—å—à–∏—Ö –≤—ã–≤–æ–¥–æ–≤
