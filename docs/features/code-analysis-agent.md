# Code Analysis Agent - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

Code Analysis Agent - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –ø—Ä–æ–µ–∫—Ç–∞. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–∞–≥–æ–≤, –∞–Ω–∞–ª–∏–∑–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –¢–∏–ø—ã –∞–Ω–∞–ª–∏–∑–∞

1. **Bug Detection** - –ü–æ–∏—Å–∫ –æ—á–µ–≤–∏–¥–Ω—ã—Ö –±–∞–≥–æ–≤ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:
   - Null pointer exceptions
   - Resource leaks (–Ω–µ–∑–∞–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - Race conditions
   - Memory leaks

2. **Architecture Analysis** - –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞:
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞
   - –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–µ–≤ –∏ –º–æ–¥—É–ª–µ–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID

3. **Code Quality** - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞:
   - Code smells (Long Method, God Class, etc.)
   - –ù–∞—Ä—É—à–µ–Ω–∏—è best practices
   - –ü–ª–æ—Ö–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
   - –ò–∑–±—ã—Ç–æ—á–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
   - –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ –∏ —Å—Ç—Ä–æ–∫–∏

4. **Security** - –ü–æ–∏—Å–∫ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

- **JVM**: Kotlin, Java, Scala
- **Python**: .py
- **JavaScript/TypeScript**: .js, .jsx, .ts, .tsx
- **Go**: .go
- **Rust**: .rs
- **C/C++**: .c, .cpp, .h
- **C#**: .cs
- **Ruby**: .rb
- **PHP**: .php
- **Swift**: .swift

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ IntelliJ IDEA
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –º–µ–Ω—é **Tools ‚Üí Ride ‚Üí Analyze Code...**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∞–Ω–∞–ª–∏–∑–∞:
   - –í—Å–µ —Ç–∏–ø—ã –∞–Ω–∞–ª–∏–∑–∞
   - –ü–æ–∏—Å–∫ –±–∞–≥–æ–≤
   - –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
   - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
4. –ù–∞–∂–º–∏—Ç–µ OK

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞:
- –û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞: `code-analysis-report.md`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥ —Å –∫—Ä–∞—Ç–∫–∏–º —Ä–µ–∑—é–º–µ
- –í –æ—Ç—á–µ—Ç–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è:
  - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ (—Ñ–∞–π–ª—ã, —Å—Ç—Ä–æ–∫–∏, –∫–ª–∞—Å—Å—ã, —Ñ—É–Ω–∫—Ü–∏–∏)
  - –°–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–∞)
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –§–æ—Ä–º–∞—Ç—ã –æ—Ç—á–µ—Ç–æ–≤

–ê–≥–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- **Markdown** (.md) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **HTML** (.html) - –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **JSON** (.json) - –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **TEXT** (.txt) - –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç

## üìä –ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞

```markdown
# üîç –û—Ç—á–µ—Ç –æ–± –∞–Ω–∞–ª–∏–∑–µ –∫–æ–¥–∞: MyProject

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-10-20 12:00:00

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

- **–§–∞–π–ª–æ–≤:** 127
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** 15,432
- **–ö–ª–∞—Å—Å–æ–≤:** 89
- **–§—É–Ω–∫—Ü–∏–π:** 456
- **–°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:** 2.3

## üìù –†–µ–∑—é–º–µ

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ 127 —Ñ–∞–π–ª–æ–≤ (15,432 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞).
–ù–∞–π–¥–µ–Ω–æ 23 –ø—Ä–æ–±–ª–µ–º:
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö: 2
- –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 8
- –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 13

‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è!

## üêõ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### üî¥ CRITICAL (2)

#### Potential NullPointerException
- **–§–∞–π–ª:** `src/main/kotlin/UserService.kt`
- **–°—Ç—Ä–æ–∫–∞:** 45
- **–¢–∏–ø:** BUG

user –º–æ–∂–µ—Ç –±—ã—Ç—å null, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏

**üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–î–æ–±–∞–≤—å—Ç–µ null-check –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ safe call operator (?.)
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ñ–∞–π–ª–æ–≤

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Ñ–∞–π–ª—ã:
- `**/*.kt`, `**/*.java` (JVM)
- `**/*.py` (Python)
- `**/*.js`, `**/*.jsx`, `**/*.ts`, `**/*.tsx` (JS/TS)
- `**/*.go` (Go)
- `**/*.rs` (Rust)
- `**/*.c`, `**/*.cpp`, `**/*.h` (C/C++)

### –ò—Å–∫–ª—é—á–µ–Ω–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è:
- `**/build/**`
- `**/dist/**`
- `**/target/**`
- `**/node_modules/**`
- `**/.gradle/**`
- `**/test/**`, `**/tests/**`

## üîß –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```kotlin
import ru.marslab.ide.ride.agent.AgentFactory
import ru.marslab.ide.ride.model.codeanalysis.*

// –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞
val agent = AgentFactory.createCodeAnalysisAgent(project)

// –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
val request = CodeAnalysisRequest(
    projectPath = project.basePath ?: "",
    analysisTypes = setOf(AnalysisType.BUG_DETECTION, AnalysisType.CODE_QUALITY)
)

// –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞
val result = agent.analyzeProject(request)

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
val report = agent.generateReport(result, ReportFormat.MARKDOWN)
```

## üí° –°–æ–≤–µ—Ç—ã

1. **–ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–æ–≥–æ** - —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ–¥–∏–Ω –º–æ–¥—É–ª—å
2. **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–π—Ç–µ** - —Å–Ω–∞—á–∞–ª–∞ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å** - –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. **–ö–æ–Ω—Ç–µ–∫—Å—Ç** - —É—á–∏—Ç—ã–≤–∞–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ê–Ω–∞–ª–∏–∑ –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (>1000 —Ñ–∞–π–ª–æ–≤) –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- –ö–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π LLM –º–æ–¥–µ–ª–∏
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –¥–æ–º–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã

## üìö –°–º. —Ç–∞–∫–∂–µ

- [Architecture Overview](../architecture/overview.md)
- [Agent System](../architecture/agents.md)
- [Roadmap](../roadmaps/09-code-analysis-agent.md)
