# Включение JCEF в Android Studio для подсветки кода

## Проблема
После установки плагина Ride в Android Studio вы видите сообщение:
```
⚠️ JCEF недоступен - используется упрощенный режим отображения без подсветки кода
```

## Причина
Android Studio может использовать системный JDK вместо JetBrains Runtime (JBR) с поддержкой JCEF.

## Решение

### Вариант 1: Использовать встроенный JBR (Рекомендуется)

1. **Откройте Android Studio**
2. Перейдите в `Help → Find Action` (или `⌘⇧A` на Mac / `Ctrl+Shift+A` на Windows/Linux)
3. Введите "Choose Boot Java Runtime for the IDE"
4. Выберите вариант с **JBR (JetBrains Runtime)** и **JCEF**
   - Ищите версию типа: `21.0.x b123.45 JBR with JCEF`
5. Нажмите **OK** и перезапустите Android Studio

### Вариант 2: Проверить текущий Runtime

1. Откройте `Help → About`
2. В окне информации посмотрите строку "Runtime version:"
3. Убедитесь, что там указан **JetBrains Runtime** (JBR)
4. Если указан другой runtime - используйте Вариант 1

### Вариант 3: Скачать JBR вручную

Если встроенный JBR недоступен:

1. Скачайте JBR с JCEF отсюда: https://github.com/JetBrains/JetBrainsRuntime/releases
2. Выберите версию для вашей ОС с пометкой **jcef**
3. Установите и настройте через `Choose Boot Java Runtime for the IDE`

## Проверка

После перезапуска Android Studio:

1. Откройте Tool Window "Ride Chat"
2. Если JCEF активен, вы увидите сообщение:
   ```
   ✓ JCEF активен - доступна подсветка синтаксиса кода
   ```
3. Кодовые блоки теперь будут отображаться с полноценной подсветкой синтаксиса

## Почему в IntelliJ IDEA работает сразу?

IntelliJ IDEA по умолчанию использует JBR с JCEF, поэтому проблем не возникает.

## Альтернатива

Если JCEF не удается активировать, плагин автоматически переключится в fallback режим с базовым форматированием кода (без цветовой подсветки, но с правильной структурой и читаемостью).
