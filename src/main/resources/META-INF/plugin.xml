<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>ru.marslab.ide.ride</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-name -->
    <name>Ride</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="your.email@example.com" url="https://github.com/yourusername/ride">MarsLab</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-description -->
    <description><![CDATA[
        <h2>Ride - AI-ассистент для разработчиков</h2>
        
        <p>Интерактивный чат с AI прямо в вашей IDE! Получайте помощь с кодом, отладкой и разработкой через интеграцию с Yandex GPT.</p>
        
        <h3>Основные возможности:</h3>
        <ul>
            <li><strong>Интерактивный чат</strong> - общайтесь с AI-ассистентом прямо в IDE</li>
            <li><strong>Yandex GPT интеграция</strong> - качественные ответы на русском и английском языках</li>
            <li><strong>История диалогов</strong> - сохранение контекста в рамках сессии</li>
            <li><strong>Безопасность</strong> - API ключи хранятся в PasswordSafe</li>
            <li><strong>Асинхронность</strong> - не блокирует работу IDE</li>
            <li><strong>Настройки</strong> - гибкая настройка промптов и параметров генерации</li>
        </ul>
        
        <h3>Как использовать:</h3>
        <ol>
            <li>Получите API ключ от Yandex Cloud</li>
            <li>Настройте плагин в Settings → Tools → Ride</li>
            <li>Откройте Tool Window "Ride Chat"</li>
            <li>Задавайте вопросы и получайте ответы!</li>
        </ol>
        
        <p><strong>Требования:</strong> IntelliJ IDEA 2025.1.4.1+, JDK 21, Yandex Cloud аккаунт</p>
        
        <p>Исходный код: <a href="https://github.com/yourusername/ride">GitHub</a></p>
    ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Tool Window -->
        <toolWindow id="Ride Chat" 
                    anchor="right" 
                    factoryClass="ru.marslab.ide.ride.ui.ChatToolWindowFactory"
                    icon="AllIcons.General.User"/>
        
        <!-- Settings -->
        <applicationConfigurable 
                parentId="tools"
                instance="ru.marslab.ide.ride.settings.SettingsConfigurable"
                id="ru.marslab.ide.ride.settings.SettingsConfigurable"
                displayName="Ride"/>
        
        <!-- Application Services -->
        <applicationService 
                serviceImplementation="ru.marslab.ide.ride.settings.PluginSettings"/>
        <applicationService 
                serviceImplementation="ru.marslab.ide.ride.service.ChatService"/>
    </extensions>

    <!-- Actions registration -->
    <actions>
        <group id="Ride.Menu" text="Ride" description="Ride plugin actions" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <action id="Ride.SetResponseFormatAction"
                    class="ru.marslab.ide.ride.actions.SetResponseFormatAction"
                    text="Set Response Format..."
                    description="Choose agent response format (JSON/XML/TEXT) and optional schema"/>
        </group>
    </actions>
</idea-plugin>